<!DOCTYPE html>
<html lang="en">
<head>
    <title>Image Gallery</title>
    <script>
        let currentImageIndex = 120;
        let numImages = 240;

        function pad(num, size) {
            num = num.toString();
            while (num.length < size) num = "0" + num;
            return num;
        }
        function showImage() {
            let imageElement1 = document.getElementById("image1");
            imageElement1.src = "https://ntslf.org/sites/ntslf/files/images/ntslf_surge_animation/surge_anom_latest_" + pad(currentImageIndex, 4) + ".svg";
            imageElement1.alt = "surge frame " + pad(currentImageIndex, 4);
            // Update the source attribute with a random query string to bypass the cache
            imageElement1.src = imageElement1.src + "?" + Math.random();
            
            let imageElement2 = document.getElementById("image2");
            imageElement2.src = "https://ntslf.org/sites/ntslf/files/images/ntslf_surge_animation/ssh_latest_" + pad(currentImageIndex, 4) + ".svg";
            imageElement2.alt = "ssh frame " + pad(currentImageIndex, 4);
            // Update the source attribute with a random query string to bypass the cache
            imageElement2.src = imageElement2.src + "?" + Math.random();
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex % numImages) + 1;
            showImage();
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 2 + numImages) % numImages + 1;
            showImage();
        }
    </script>

    <style>
        #image-container {
            position: relative;
            display: inline-block;
        }

        #image {
            display: block;
        }
        
        #button {
            display: block;
        }

        #overlay1 {
            position: absolute;
            bottom: 3.3%;
            width:14.6%;height:auto;left:66.4%; /*Surge*/
        }

        #overlay2 {
            position: absolute;
            bottom: 3.3%;
            width:15.0%;height:auto;left:68.2%; /*SSH*/
        }
        
    </style>
</head>
<body>
    <table>
    <tr>
    <td>
        <div id="image-container">
        <img id="image1" width="100%" src="https://ntslf.org/sites/ntslf/files/images/ntslf_surge_animation/surge_anom_latest_0120.svg" alt="surge frame">
        <img id="overlay1" src="https://noc.ac.uk/files/logos/logo2023-noc.svg" alt="NOC logo">
        </div>
    </td>
    <td>
        <div id="image-container">
        <img id="image2" width="100%" src="https://ntslf.org/sites/ntslf/files/images/ntslf_surge_animation/ssh_latest_0120.svg" alt="surge frame">
        <img id="overlay2" src="https://noc.ac.uk/files/logos/logo2023-noc.svg" alt="NOC logo">
        </div>
    </td>
    </tr>
    <tr colspan=2>
        <td id="button">
            <button onclick="prevImage()">Previous</button>
            <button onclick="nextImage()">Next</button>
        </td>
    </tr>
    </table>

<BR>
Preview of data made available on <a href="https://ntslf.org/storm-surges/storm-surge-model">NTSLF pages</a>.
<BR>
This collaboration was facilitated by the <a href="https://oceanprediction.org/">National Partnership for Ocean Prediction</a>
</body>
</html>
